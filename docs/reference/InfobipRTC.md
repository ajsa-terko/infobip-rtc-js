* [constructor(token: string, [options: any])](#constructor)
* [connect()](#connect)
* [disconnect()](#disconnect)
* [on(eventName: string, eventHandler: any)](#on)
* [call(identity: string, [options: any])](#call)
* [callPhoneNumber(phoneNumber: string, [options: any])](#callPhoneNumber)

<a name="constructor"></a>
## `constructor(token, [options])

### Description
Creates new instance of `InfobipRTC`, used to make all requests to Infobip WebRTC platform. Client is authenticated with token, passed as first parameter, and URL of Infobip WebRTC platform to connect to is passed as `url` option in second parameter. This just creates instance, does not connect to WebSocket API, it is done via [`connect`](#connect) method.

### Arguments
* `token`: *string* - Generated by client's app via Infobip's HTTP [/webrtc/token](https://ibdemo.readme.io/v1.0/docs/generate-token) method.
* `[options={url:'portunus.infobip.com'}]`: *any* - Object that contains options used to configure InfobipRTC. Currently, only `url is supported, that is URL of Infobip WebRTC platform to connect to.

### Returns
none

### Example
```
let infobipRTC = new InfobipRTC('2e29c3a0-730a-4526-93ce-cda44556dab5', {url: 'portunus.infobip.com'});
```

<a name="connect"></a>
## `connect()`

### Description
Connects to Infobip's WebSocket API (WebRTC platform), using authentication and options supplied in constructor. If connection fails due to temporary errors (like network issue), retries with exponentional backoff (starting delay at 50ms, with maximum delay at 1000ms, and maximum of 50 attempts). If retry fails, or permanent error occurs (like authentication error), an error is thrown. Throws an error if status is not `OFFLINE`.

### Arguments
none

### Returns
none

### Example

```
let infobipRTC = new InfobipRTC('2e29c3a0-730a-4526-93ce-cda44556dab5', {url: 'portunus.infobip.com'});
infobipRTC.connect();
```

<a name="disconnect"></a>
## `disconnect()`

### Description
Disconnects from Infobip's WebSocket API (WebRTC platform), if connected. Throws an error if status is not `ONLINE`.

### Arguments
none

### Returns
none

### Example

```
let infobipRTC = new InfobipRTC('2e29c3a0-730a-4526-93ce-cda44556dab5', {url: 'portunus.infobip.com'});
infobipRTC.connect();
infobipRTC.disconnect();
```

<a name="on"></a>
## `on(eventName, eventHandler)`

### Description
Configures event handler for RTC events. There are 2 event types in Infobip RTC API, ones that are configured globally, per connection basis (RTC events), and ones that are configured per call basis (call events). This one handles RTC events.

### Arguments
* `eventName`: *string* - Name of RTC event. Allowed values are: `connected`, `disconnected`, `reconnecting`, `reconnected`, `incoming-call`, `missed-call`.
* `eventHandler`: *any* - Function that will be called when event occurs. Exactly one parameter is passed to function, when event occurs. For every event, there is set of fields that parameter will contain:  
** `connected` - Contains identity field (identity set by Infobip client's app, when generating token via Infobip's HTTP [/webrtc/token](https://ibdemo.readme.io/v1.0/docs/generate-token) API method).  
** `disconnected` - Contains `reason` field (string field with description why connection was disconnected).  
** `reconnecting` - Contains no fields.  
** `reconnected` - Contains no fields.  
** `incoming-call` - Is instance of [`IncomingCall`](./IncomingCall) class.  
** `missed-call` - Contains `caller` field (object with `displayName` and `identity` fields, describing user who initiated call that was missed).  

### Returns
none

### Example

```
let infobipRTC = new InfobipRTC('2e29c3a0-730a-4526-93ce-cda44556dab5', {url: 'portunus.infobip.com'});
infobipRTC.connect();
infobipRTC.on('connected', function(event) {
 console.log('Connected with identity: ' + event.identity);
});
infobipRTC.on('incoming-call', function(event) {
 console.log('Incoming call from: ' + event.caller.identity);
});
```

<a name="call"></a>
## `call(identity, [options])`

### Description
Makes an outgoing call to another user of Infobip's WebRTC platform. Returns instance of `OutgoingCall` class, which can be used to configure call events, and track status of call.

### Arguments
* `identity`: *string* - Identity of called user, used to sign in to Infobip's WebRTC platform. If user does not exist on platform, call is hang up with proper reason. Must contain only alphanumeric signs.
* `[options={}]`: *any* - Object that contains options used to configure outgoing call. Currently, only `from` is supported. It is *string*, configures what should appear as caller to calling party, when incoming call is received.

### Returns

[`OutgoingCall`](./OutgoingCall) - Instance of `OutgoingCall`, used to configure call events, and track status of call.

### Example
```
let infobipRTC = new InfobipRTC('2e29c3a0-730a-4526-93ce-cda44556dab5', {url: 'portunus.infobip.com'});
infobipRTC.connect();
let call = infobipRTC.call('Alice', {video: true, from: 'Bob'});
```

<a name="callPhoneNumber"></a>
## `callPhoneNumber(phoneNumber, [options])`

### Description
Makes an outgoing call to given phone number (actual phone device, connected to Public Switched Telephone Network, mobile or landline). Returns instance of `OutgoingCall` class, which can be used to configure call events, and track status of call.

### Arguments

* `phoneNumber`: *string* - Phone number in standard international format of called device. If phone number does not exist, call is hang up with proper reason.
* `[options={}]`: *any* - Object that contains options used to configure outgoing call. Currently, only `from` is supported. It is *string*, configures what should appear as caller to calling party, when incoming call is received.

### Returns
[`OutgoingCall`](./OutgoingCall) - Instance of `OutgoingCall`, used to configure call events, and track status of call.

### Example

```
let infobipRTC = new InfobipRTC('2e29c3a0-730a-4526-93ce-cda44556dab5', {url: 'portunus.infobip.com'});
infobipRTC.connect();
let call = infobipRTC.callPhoneNumber('41793026727', {from: '41793026731'});
``